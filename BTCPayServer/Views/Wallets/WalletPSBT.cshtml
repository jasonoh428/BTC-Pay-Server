@model WalletPSBTViewModel
@{
    Layout = "../Shared/_NavLayout.cshtml";
    ViewData["Title"] = "PSBT";
    ViewData.SetActivePageAndTitle(WalletsNavPages.PSBT);
}
<div class="row">
    <div class="col-md-10">
        @if (!string.IsNullOrEmpty(Model.Decoded))
        {
            <h3>Decoded PSBT</h3>
            <pre><code class="json">@Model.Decoded</code></pre>
            <div class="form-group">
                <div class="dropdown" style="margin-top:16px;">
                    <button class="btn btn-primary dropdown-toggle" type="button" id="SendMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Sign with...
                    </button>
                    <form method="post" asp-action="WalletPSBTSign">
                        <input type="hidden" asp-for="PSBT" />
                        <div class="dropdown-menu" aria-labelledby="SendMenu">
                            <button name="command" type="submit" class="dropdown-item" value="ledger">... your Ledger Wallet device</button>
                            <button name="command" type="submit" class="dropdown-item" value="save-psbt">... a wallet supporting PSBT files</button>
                        </div>
                    </form>
                </div>
            </div>
        }
        <h3>PSBT to decode</h3>
        <form class="form-group" method="post" asp-action="WalletPSBT">
            <div class="form-group">
                <textarea class="form-control" rows="5" asp-for="PSBT"></textarea>
                <span asp-validation-for="PSBT" class="text-danger"></span>
            </div>
            <button type="submit" class="btn btn-primary">Decode</button>
        </form>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="~/vendor/highlightjs/default.min.css">
    <script src="~/vendor/highlightjs/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
}
